{
  "products": [
    {
      "name": "deploy-arch-ibm-event-notifications",
      "label": "Cloud automation for Event Notifications",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "dev_ops",
        "platform_engineering"
      ],
      "keywords": [
        "events",
        "notifications",
        "event notifications",
        "events-notifications",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "short_description": "Creates and configures an IBM Cloud Event Notifications instance",
      "long_description": "[IBM Cloud Event Notifications](https://www.ibm.com/products/event-notifications) provides centralized and scalable management of real-time alerts and messages from IBM Cloud services and custom sources. This deployable architecture includes capabilities to embrace a secure-by-default approach. It creates key rings and keys by using either IBM Key Protect or Hyper Protect Crypto Services to securely encrypt your data, and it supports creating context-based restrictions to enforce fine-grained access control. Connect to an existing IBM Cloud Object Storage instance to collect events that fail delivery.  \n\nLeverage [Terraform IBM Modules](https://github.com/terraform-ibm-modules) to shape and scale your solutions. You can integrate Terraform IBM Modules (TIM) to extend functionality and design a solution tailored to your environment and operations needs. These modules offer reusable, customizable elements that follow IBM Cloud's recommended practices. You can access the [source code and documentation](https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications) and use it to extend your current architecture or create new solutions.\n\n\nℹ️ This deployable architecture is a part of a larger collection that IBM provides. Each deployable architecture focuses on a single IBM Cloud service. You can use these deployable architectures on their own to automate deployments by following an [IaC approach](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-understanding-projects), or you can [combine them together](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-config-stack) to deploy a more complex end-to-end solution architecture.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications/blob/main/solutions/standard/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-event-notifications/main/images/en_icon.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Event Notifications instance",
          "description": "Get started with Event Notifications by creating an instance. [Learn more](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-about)."
        },
        {
          "title": "Key encryption",
          "description": "Optionally, you can enable [key encryption](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-managing-encryption) for the Event Notifications instance and the Object Storage bucket by creating a key or using an existing one."
        },
        {
          "title": "Object Storage",
          "description": "Creates and configures an Object Storage bucket to collect events that fail delivery. You can provide an existing Object Storage instance or use the [Cloud automation for Object Storage](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cos-68921490-2778-4930-ac6d-bae7be6cd958-global) deployable architecture to create an instance. For more information, go to [Collecting failed events](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-cfe-integrations)."
        },
        {
          "title": "Monitoring",
          "description": "This deployable architecture can leverage [Cloud automation for Cloud Monitoring](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-monitoring-73debdbf-894f-4c14-81c7-5ece3a70b67d-global), another deployable architecture that configures resources for monitoring."
        },
        {
          "title": "Service credentials",
          "description": "Creates and configures [Event Notification service credentials](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-service-credentials) for your instance."
        },
        {
          "title": "Composable and Extensible Architecture",
          "description": "This architecture illustrates how Terraform IBM Modules(TIM) can be integrated to deliver a complete solution on IBM Cloud. Each module is a reusable, and validated component for security, compliance, and operational IBM best practices. You can deploy this architecture as-is or configure it as code by leveraging the underlying modules to fit your specific requirements. Explore the [source code and documentation](https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications) to adapt, extend, or create entirely new solutions using these building blocks."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues, please open an issue in the repository [here](https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Security-enforced",
          "name": "security-enforced",
          "index": 2,
          "install_type": "fullstack",
          "working_directory": "solutions/security-enforced",
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Madrid (eu-es)",
                  "value": "eu-es"
                },
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Montreal (ca-mon)",
                  "value": "ca-mon"
                }
              ]
            },
            {
              "key": "existing_kms_instance_crn",
              "required": true,
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_kms_instance_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}(kms|hs-crypto):(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "kms_endpoint_url",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "existing_monitoring_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_monitoring_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}sysdig-monitor:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "event_notifications_instance_name"
            },
            {
              "key": "event_notifications_resource_tags"
            },
            {
              "key": "existing_kms_root_key_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_kms_root_key_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}(kms|hs-crypto):(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}:key:[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$"
                }
              ]
            },
            {
              "key": "event_notifications_key_ring_name"
            },
            {
              "key": "event_notifications_key_name"
            },
            {
              "key": "cos_key_name"
            },
            {
              "key": "skip_event_notifications_kms_auth_policy"
            },
            {
              "key": "ibmcloud_kms_api_key"
            },
            {
              "key": "existing_cos_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_cos_instance_crn' is not valid.",
                  "value": "^$|^__NULL__$|^crn:(.*:){3}cloud-object-storage:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "cos_bucket_name"
            },
            {
              "key": "skip_event_notifications_cos_auth_policy"
            },
            {
              "key": "skip_cos_kms_auth_policy"
            },
            {
              "key": "cos_bucket_access_tags"
            },
            {
              "key": "add_bucket_name_suffix"
            },
            {
              "key": "cos_bucket_region"
            },
            {
              "key": "existing_secrets_manager_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_secrets_manager_instance_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}secrets-manager:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "skip_event_notifications_secrets_manager_auth_policy"
            },
            {
              "key": "service_credential_secrets",
              "type": "array",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "supportedLanguages": [
                    "hcl"
                  ]
                }
              }
            },
            {
              "key": "service_credential_names"
            },
            {
              "key": "existing_event_notifications_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_event_notifications_instance_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}event-notifications:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "cbr_rules",
              "type": "array",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "supportedLanguages": [
                    "hcl"
                  ]
                }
              }
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Required to create an instance of Event Notifications."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "event-notifications",
              "notes": "Required to create an instance of Event Notifications."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if Cloud Object Storage is used as the target for collecting failed Event Notifications."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if you are creating and configuring keys in an existing Hyper Protect Crypto Services instance for key encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if you are creating and configuring a Key Protect instance for key encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Operator",
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "secrets-manager",
              "notes": "[Optional] Required to write the Event Notifications service credentials to an existing IBM Cloud Secrets Manager instance. 'Manager' access is required if new secret groups are needed."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure-by-default standards that can't be changed."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Event Notifications",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-event-notifications/main/reference-architectures/en-se.svg",
                  "type": "image/svg+xml"
                },
                "description": "This deployable architecture creates and configures an IBM Cloud Event Notifications instance. It requires an Object Storage instance as part of the topology. Within this instance, an Object Storage bucket is created to store events that fail to be delivered.<br><br> By default, both the Event Notifications instance and the storage bucket are encrypted using a key management service to enhance security. <br><br> To support secure credential management, you can optionally integrate with IBM Cloud Secrets Manager to securely store Event Notifications service credentials."
              }
            ]
          },
          "terraform_version": "1.12.2",
          "ignore_readme": true
        },
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Madrid (eu-es)",
                  "value": "eu-es"
                },
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Montreal (ca-mon)",
                  "value": "ca-mon"
                }
              ]
            },
            {
              "key": "service_plan",
              "options": [
                {
                  "displayname": "lite",
                  "value": "lite"
                },
                {
                  "displayname": "standard",
                  "value": "standard"
                }
              ],
              "required": true
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": false,
              "description": "When set to `true`, the IBM Cloud Monitoring instance is configured to collect platform metrics from the specified region. You can configure only one instance of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance is already configured. You might not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "existing_monitoring_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_monitoring_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}sysdig-monitor:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "event_notifications_instance_name"
            },
            {
              "key": "service_endpoints",
              "options": [
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "event_notifications_resource_tags"
            },
            {
              "key": "event_notifications_access_tags"
            },
            {
              "key": "existing_event_notifications_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_event_notifications_instance_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}event-notifications:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "kms_encryption_enabled"
            },
            {
              "key": "existing_kms_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_kms_instance_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}(kms|hs-crypto):(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "kms_endpoint_url"
            },
            {
              "key": "existing_kms_root_key_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_kms_root_key_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}(kms|hs-crypto):(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}:key:[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}$"
                }
              ]
            },
            {
              "key": "kms_endpoint_type",
              "hidden": true,
              "options": [
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "private",
                  "value": "private"
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "event_notifications_key_name"
            },
            {
              "key": "event_notifications_key_ring_name"
            },
            {
              "key": "cos_key_name"
            },
            {
              "key": "skip_event_notifications_kms_auth_policy"
            },
            {
              "key": "ibmcloud_kms_api_key"
            },
            {
              "key": "enable_collecting_failed_events"
            },
            {
              "key": "existing_cos_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_cos_instance_crn' is not valid.",
                  "value": "^$|^__NULL__$|^crn:(.*:){3}cloud-object-storage:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "cos_bucket_name"
            },
            {
              "key": "add_bucket_name_suffix"
            },
            {
              "key": "cos_bucket_class"
            },
            {
              "key": "cos_bucket_access_tags"
            },
            {
              "key": "skip_event_notifications_cos_auth_policy"
            },
            {
              "key": "skip_cos_kms_auth_policy"
            },
            {
              "key": "cos_bucket_region"
            },
            {
              "key": "management_endpoint_type_for_bucket",
              "options": [
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "direct",
                  "value": "direct"
                },
                {
                  "displayname": "private",
                  "value": "private"
                }
              ]
            },
            {
              "key": "existing_secrets_manager_instance_crn",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "The value provided for 'existing_secrets_manager_instance_crn' is not valid.",
                  "value": "^__NULL__$|^crn:(.*:){3}secrets-manager:(.*:){2}[0-9a-fA-F]{8}(?:-[0-9a-fA-F]{4}){3}-[0-9a-fA-F]{12}::$"
                }
              ]
            },
            {
              "key": "existing_secrets_manager_endpoint_type",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                }
              ]
            },
            {
              "key": "skip_event_notifications_secrets_manager_auth_policy"
            },
            {
              "key": "service_credential_secrets",
              "type": "array",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "supportedLanguages": [
                    "hcl"
                  ]
                }
              }
            },
            {
              "key": "service_credential_names"
            },
            {
              "key": "cbr_rules",
              "type": "array",
              "custom_config": {
                "type": "code_editor",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "supportedLanguages": [
                    "hcl"
                  ]
                }
              }
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Required to create an instance of Event Notifications."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "event-notifications",
              "notes": "Required to create an instance of Event Notifications."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required to deploy Cloud automation for Observability, which includes Cloud Monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if IBM Cloud Object Storage is used as the target for collecting failed Event Notifications."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if key encryption is enabled and IBM Hyper Protect Crypto Services is used to encrypt the root key for the Object Storage bucket."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if you are creating and configuring a Key Protect instance for key encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Operator",
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::serviceRole:Manager"
              ],
              "service_name": "secrets-manager",
              "notes": "[Optional] Required to write the Event Notifications service credentials to an existing IBM Cloud Secrets Manager instance. 'Manager' access is required if new secret groups are needed."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure-by-default standards, but you can edit it to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Event Notifications",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-event-notifications/main/reference-architectures/en-fc.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture supports creating and configuring an IBM Cloud Event Notifications instance.<br><br> An IBM Cloud Object Storage instance is required for this topology. Within this instance, an Object Storage bucket is created, which serves as the storage to collect events that failed delivery. The [Cloud automation for Object Storage](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cos-68921490-2778-4930-ac6d-bae7be6cd958-global) deployable architecture creates the Object Storage instance. Additionally, the Event Notifications instance and storage bucket can be encrypted by using a [key management service](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-kms-2cad4789-fa90-4886-9c9e-857081c273ee-global) such as Key Protect or Hyper Protect Crypto Services to enhance security.<br><br> For monitoring needs, you can enable Cloud Monitoring for your Event Notifications instance. The [Cloud automation for Cloud Monitoring](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cloud-monitoring-73debdbf-894f-4c14-81c7-5ece3a70b67d-global) deployable architecture provides advanced monitoring and operational insights into the performance and health of your deployment.<br><br> Secrets Manager integration can also be enabled for writing the Event Notifications service credentials to an existing IBM Cloud Secrets Manager instance, ensuring secure management of the credentials."
              }
            ]
          },
          "dependencies": [
            {
              "name": "deploy-arch-ibm-cloud-monitoring",
              "description": "Set up a Cloud Monitoring instance to collect platform metrics.",
              "flavors": [
                "fully-configurable"
              ],
              "id": "73debdbf-894f-4c14-81c7-5ece3a70b67d-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_output": "cloud_monitoring_crn",
                  "version_input": "existing_monitoring_crn"
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.10.6"
            },
            {
              "name": "deploy-arch-ibm-kms",
              "id": "2cad4789-fa90-4886-9c9e-857081c273ee-global",
              "description": "Enable managed encryption with your own keys via IBM Cloud Key Protect. If disabled, services will default to IBM-managed encryption.",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_output": "kms_instance_crn",
                  "version_input": "existing_kms_instance_crn"
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_output": "kms_private_endpoint",
                  "version_input": "kms_endpoint_url"
                },
                {
                  "version_input": "kms_encryption_enabled",
                  "value": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v5.4.8"
            },
            {
              "name": "deploy-arch-ibm-cos",
              "id": "68921490-2778-4930-ac6d-bae7be6cd958-global",
              "description": "Enable to create an IBM Cloud Object Storage instance to store failed Event Notifications events.",
              "flavors": [
                "instance"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_output": "cos_instance_crn",
                  "version_input": "existing_cos_instance_crn"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "version_input": "enable_collecting_failed_events",
                  "value": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v10.5.5"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.12.2",
          "ignore_readme": true
        }
      ]
    }
  ]
}
