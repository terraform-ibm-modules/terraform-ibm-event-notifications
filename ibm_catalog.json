{
  "products": [
    {
      "name": "deploy-arch-ibm-event-notifications",
      "label": "Cloud automation for Event Notifications",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "security"
      ],
      "keywords": [
        "events",
        "notifications",
        "event notifications",
        "events-notifications",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "short_description": "Creates and configures an IBM Cloud Event Notifications instance.",
      "long_description": "This deployable architecture is used to provision and configure an [IBM Cloud Event Notifications](https://www.ibm.com/products/event-notifications) instance.\n\n\nðŸ’¡ This Terraform-based automation is part of a broader suite of IBM-maintained Infrastructure as Code (IaC) asset collection, each following the naming pattern \"Cloud automation for *servicename*\" and focusing on single IBM Cloud service. These single-service deployable architectures can be used on their own to streamline and automate service deployments through an [IaC approach](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-understanding-projects), or assembled together into a broader [automated IaC stack](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-config-stack) to automate the deployment of an end-to-end solution architecture.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications/blob/main/solutions/standard/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-event-notifications/main/images/en_icon.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Creates an IBM Cloud Event Notifications instance",
          "description": "For more details on an IBM Cloud Event Notifications instance, [see here](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-about)."
        },
        {
          "title": "Creates Key Rings and Keys to encrypt data",
          "description": "For more details on managing encryption using an existing Key Management Services (Key Protect or HPCS) instance, [see here](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-managing-encryption)."
        },
        {
          "title": "Collect events that fail delivery",
          "description": "Connect an existing IBM Cloud Object Storage (COS) service instance and bucket to collect events that fail delivery. Alternatively, create instances to connect to an Event Notifications instance. For more details on integrating Cloud Object Storage for collecting failed events, [see here](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-en-destinations-cloud-object-storage)."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications/issues](https://github.com/terraform-ibm-modules/terraform-ibm-event-notifications/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Security-enforced",
          "name": "security-enforced",
          "install_type": "fullstack",
          "working_directory": "solutions/security-enforced",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "required": false,
              "default_value": "Default",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "value": "au-syd"
                },
                {
                  "value": "eu-de"
                },
                {
                  "value": "eu-gb"
                },
                {
                  "value": "eu-es"
                },
                {
                  "value": "us-south"
                }
              ]
            },
            {
              "key": "existing_kms_instance_crn",
              "required": true
            },
            {
              "key": "kms_endpoint_url",
              "required": true
            },
            {
              "key": "event_notifications_instance_name"
            },
            {
              "key": "event_notifications_resource_tags"
            },
            {
              "key": "existing_kms_root_key_crn"
            },
            {
              "key": "event_notifications_key_ring_name"
            },
            {
              "key": "event_notifications_key_name"
            },
            {
              "key": "cos_key_name"
            },
            {
              "key": "skip_event_notifications_kms_auth_policy"
            },
            {
              "key": "ibmcloud_kms_api_key"
            },
            {
              "key": "existing_cos_instance_crn"
            },
            {
              "key": "cos_bucket_name"
            },
            {
              "key": "skip_event_notifications_cos_auth_policy"
            },
            {
              "key": "skip_cos_kms_auth_policy"
            },
            {
              "key": "cos_bucket_access_tags"
            },
            {
              "key": "add_bucket_name_suffix"
            },
            {
              "key": "cos_bucket_region"
            },
            {
              "key": "existing_secrets_manager_instance_crn"
            },
            {
              "key": "skip_event_notifications_secrets_manager_auth_policy"
            },
            {
              "key": "service_credential_secrets"
            },
            {
              "key": "service_credential_names"
            },
            {
              "key": "existing_event_notifications_instance_crn"
            },
            {
              "key":"cbr_rules"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "event-notifications",
              "notes": "[Optional] Required if you are creating an Event Notifications Instance."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Creates an Event Notifications instance",
                "description": "Creates and configures an Event Notifications instance."
              },
              {
                "title": "Creates key rings and keys",
                "description": "Creates key rings and keys in an existing KMS instance."
              },
              {
                "title": "Collects events that fail delivery",
                "description": "Connect an existing Object Storage service instance and bucket. Alternatively, create instances to connect to an Event Notifications instance and collect events that faile delivery."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Event Notifications",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-event-notifications/main/reference-architectures/en.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture supports creating and configuring an IBM Cloud Event Notifications instance."
              }
            ]
          }
        },
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "required": false,
              "default_value": "Default",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "value": "au-syd"
                },
                {
                  "value": "eu-de"
                },
                {
                  "value": "eu-gb"
                },
                {
                  "value": "eu-es"
                },
                {
                  "value": "us-south"
                }
              ]
            },
            {
              "key": "event_notifications_instance_name"
            },
            {
              "key": "service_plan",
              "options": [
                {
                  "value": "lite"
                },
                {
                  "value": "standard"
                }
              ]
            },
            {
              "key": "service_endpoints",
              "options": [
                {
                  "value": "public"
                },
                {
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "event_notifications_resource_tags"
            },
            {
              "key": "event_notifications_access_tags"
            },
            {
              "key": "existing_event_notifications_instance_crn"
            },
            {
              "key": "kms_encryption_enabled"
            },
            {
              "key": "existing_kms_instance_crn"
            },
            {
              "key": "kms_endpoint_url"
            },
            {
              "key": "existing_kms_root_key_crn"
            },
            {
              "key": "kms_endpoint_type",
              "hidden": true,
              "options": [
                {
                  "value": "public"
                },
                {
                  "value": "private"
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "value": "private"
                },
                {
                  "value": "public"
                },
                {
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "event_notifications_key_name"
            },
            {
              "key": "event_notifications_key_ring_name"
            },
            {
              "key": "cos_key_name"
            },
            {
              "key": "skip_event_notifications_kms_auth_policy"
            },
            {
              "key": "ibmcloud_kms_api_key"
            },
            {
              "key" : "enable_collecting_failed_events"
            },
            {
              "key": "existing_cos_instance_crn"
            },
            {
              "key": "cos_bucket_name"
            },
            {
              "key": "add_bucket_name_suffix"
            },
            {
              "key": "cos_bucket_class"
            },
            {
              "key": "cos_bucket_access_tags"
            },
            {
              "key": "skip_event_notifications_cos_auth_policy"
            },
            {
              "key": "skip_cos_kms_auth_policy"
            },
            {
              "key": "cos_bucket_region"
            },
            {
              "key": "management_endpoint_type_for_bucket",
              "options": [
                {
                  "value": "private"
                },
                {
                  "value": "public"
                },
                {
                  "value": "direct"
                }
              ]
            },
            {
              "key": "existing_secrets_manager_instance_crn"
            },
            {
              "key": "existing_secrets_manager_endpoint_type",
              "options": [
                {
                  "value": "private"
                },
                {
                  "value": "public"
                }
              ]
            },
            {
              "key": "skip_event_notifications_secrets_manager_auth_policy"
            },
            {
              "key": "service_credential_secrets"
            },
            {
              "key": "service_credential_names"
            },
            {
              "key":"cbr_rules"
            }
          ],
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "event-notifications",
              "notes": "[Optional] Required if you are creating an Event Notifications Instance."
            },
            {
              "service_name": "atracker",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are consuming Observability DA which creates Activity Tracker (AT) event routing instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required if you are consuming Observability DA which sets up Cloud monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "logs",
              "notes": "[Optional] Required if you are consuming Observability DA which sets up Cloud logs."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if COS is chosen for target of Activity Tracker Event routing or Cloud logs data or cloud logs metrics."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if you are creating/configuring Hyper Protect Crypto Services (HPCS) instance for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if you are creating/configuring Key Protect (KP) instance for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity",
              "notes": "[Optional] Required if Cloud automation for account configuration is enabled."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": "Creates an Event Notifications instance",
                "description": "Creates and configures an Event Notifications instance."
              },
              {
                "title": "Creates key rings and keys",
                "description": "Creates key rings and keys in an existing KMS instance."
              },
              {
                "title": "Collects events that fail delivery",
                "description": "Connect an existing Object Storage service instance and bucket. Alternatively, create instances to connect to an Event Notifications instance and collect events that faile delivery."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Event Notifications",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-event-notifications/main/reference-architectures/en.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture supports creating and configuring an IBM Cloud Event Notifications instance."
              }
            ]
          },
          "dependencies": [
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "description": "This module prepares your IBM Cloud account with the necessary configurations to ensure a secure and organized environment for your architecture.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "resource-group-only",
                "resource-groups-with-account-settings"
              ],
              "default_flavour": "resource-group-only",
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_output": "observability_resource_group_name",
                  "version_input": "existing_resource_group_name"
                },
                {
                  "dependency_input": "provider_visibility",
                  "version_input": "provider_visibility",
                  "reference_version": true
                },
                {
                  "version_input": "use_existing_resource_group",
                  "value": true
                }
              ],
              "optional": true,
              "on_by_default": false,
              "version": "v3.0.6"
            },
            {
              "name": "deploy-arch-ibm-observability",
              "flavors": [
                "instances"
              ],
              "id": "a3137d28-79e0-479d-8a24-758ebd5a0eab-global",
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "input_mapping": [
                {
                  "dependency_output": "cloud_monitoring_crn",
                  "version_input": "existing_monitoring_crn"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "2.11.0"
            },
            {
              "name": "deploy-arch-ibm-kms",
              "id": "2cad4789-fa90-4886-9c9e-857081c273ee-global",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "input_mapping": [
                {
                  "dependency_output": "kms_instance_crn",
                  "version_input": "existing_kms_instance_crn"
                },
                {
                  "dependency_output": "kms_private_endpoint",
                  "version_input": "kms_endpoint_url"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v5.1.2"
            }
          ],
          "dependency_version_2": true
        }
      ]
    }
  ]
}
